# Function and Lambda
##Function
* 第一級オブジェクトとしての関数
 * 関数とは，「何かのインプットを与えると，何かのアウトプットを返すもの」
  * 第一級オブジェクトとは，実行しに生成したり，受け渡したり，戻り値として返すことを行えるデータ型の事を言う．普通の `Integer` とか `String` とか `List` はみんな第一級．
   * Java8 では，ラムダ式 (後述) が導入されることに寄って，関数を第一級オブジェクトとして扱えるようになりました．
    * どこの Java8 紹介を見てもこのように書いてあるのですが，簡単にいえば，「Java の文法の中で『関数オブジェクト』というちょっと特殊な分類をされる型が用意されたよ」ということです．どうやって？はこの後説明します．

## Lambda Expression

* Java8 で追加された関数オブジェクトを簡便に表現するための記法．
* ラムダ式そのままで関数が保持されているのではなく，内部的に関数オブジェクトのインスタンスが生成されている．
→ `LambdaDemo.java`, `VariousLambda` を参照．

## `@FunctionalInterface`
ラムダ式で表現できるのは，「関数インターフェイス」のみ．
「関数インターフェイスである」とは，「実装するべきメソッドが 1 つしかない Interface」のこと．
`@FunctionalInterface` アノテーションを付してそのことを明示する．
(`PlayerNumberResolver.java` を参照．)

### 脇道にそれるけど，インターフェイスのデフォルト実装
出てきてしまったので先に紹介しますが， Java8 では Interface にデフォルト実装を書けるようになりました．地味に嬉しい…!!
`java.util.Function` のソースを読んで，確認してみましょう．

## Lambda の利点とか
Lambda だと何が嬉しいの？無名内部クラスじゃダメなの？
→ 「読みやすい！」「スッキリする」以外にも，Ikezoe, 2014[1] によると，以下の点で優れているらしい．(本家未確認)

* 匿名内部クラスでは必ず円クロージングインスタンスへの参照を保持するが，ラムダ式は不要な参照は持たない．
* 内部クラスはコンパイル時にクラスが生成されるが，ラムダ式は実行時にクラスが生成される．クラスロードの時間が減るかも？
* インスタンス生成時に，内部クラスは必ず new するが，ラムダ式は JVM が最適な生成方法を選択する．

* 参考文献
[1] http://dev.ariel-networks.com/wp/archives/4207 (Ikezoe, 2014)
